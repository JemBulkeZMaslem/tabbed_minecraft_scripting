PATH: ( block <targetPos> | entity <target> | storage <target>)
SRCPATH: (block <sourcePos> | entity <source> | storage <source>)
          ID location | ID target | ID ID
          ID (location | target | ID)

value: (ID, INTEGER, FLOAT, list, NBT)

data (
  get data_storage [<path>] [<scale>] |
  merge data_storage <nbt> |
  modify data_storage <targetPath> (
    insert <index> (from data_storage [<sourcePath>] | value <value>) |
    remove data_storage <path>

    append  (from data_storage [<sourcePath>] | value <value>) |
    merge   (from data_storage [<sourcePath>] | value <value>) |
    prepend (from data_storage [<sourcePath>] | value <value>) |
    set     (from data_storage [<sourcePath>] | value <value>) |
  )
)

COMMAND (
  STRING data_storage (STRING number*)* |
  STRING data_storage nbt |
  ID data_storage STRING (
    STRING INTEGER STRING (data_storage STRING* | generic_data) |
    STRING data_storage STRING |

    STRING STRING (data_storage STRING* | generic_data) |
    STRING STRING (data_storage STRING* | generic_data) |
    STRING STRING (data_storage STRING* | generic_data) |
    STRING STRING (data_storage STRING* | generic_data)
  )

)


COMMAND STRING data_storage (
  STRING number* |
  NBT |
  STRING STRING (
    INTEGER STRING (data_storage STRING* | generic_data) | <-
    data_storage STRING |

    STRING (data_storage STRING* | generic_data)
  )
)*

---------------------------------------------

effect (
  clear [<targets>] [<effect>] |
  give <targets> <effect> [<seconds>] [<amplifier>] [<hideParticles>]
  )

  COMMAND (
            STRING (target STRING*)* |
            STRING target STRING (INTEGER (INTEGER BOOLEAN*)*)*
            )

COMMAND STRING (target (STRING (INTEGER (INTEGER BOOLEAN*)*)*)*)*

---------------------------------------------

execute (
  execute_command
  )

execute_command:

align <axes> -> execute |

anchored <anchor> -> execute |

as <targets> -> execute |

at <targets> -> execute |

facing (<pos>|entity <targets> <anchor>) -> execute |

in <dimension> -> execute |

positioned (<pos>|as <targets>) -> execute |

rotated (<rot>|as <targets>) -> execute |

store (result|success) (
  block <targetPos> <path> <type> <scale> |
  bossbar <id> (max|value) |
  entity <target> <path> <type> <scale> |
  score <targets> <objective> |
  storage <target> <path> <type> <scale> |
  ) -> execute|

(if|unless) (
  block <pos> <block> |
  blocks <start> <end> <destination> (all|masked) |
  data (
    block <sourcePos> <path>
    entity <source> <path>
    storage <source> <path>
    )
  entity <entities> |
  predicate <predicate> |
  score <target> <targetObjective> (
    (<|<=|=|>|>=) <source> <sourceObjective> |
    matches <range>
    )) -> [execute]

  run <command>

# TODO make target accept playernames, add Operations, Comparisons, Range and Floats

execute_command:  ID ID execute_command |                                    #align, anchored, as, at, in
                  ID (location | rotation | ID target ID*) execute_command | #facing, positioned, rotated
                  ID ID (                                                    #store
                    ID location ID ID FLOAT |       #block
                    ID ID ID |                      #bossbar
                    ID target ID ID FLOAT |         #entity, storage
                    ID target ID |                  #score
                  ) execute_command |
                  ID (                                                       # if/unless
                    ID location ID |                #block
                    ID location location ID ID |    #blocks
                    ID (                            #data
                      ID location ID |  #block
                      ID target ID |    #entity
                      ID ID ID          #storage
                    ) |
                    ID target |                     #entity
                    ID ID |                         #predicate
                    ID target ID (                  #target
                      COMPARISON target ID |
                      ID RANGE
                    )
                  ) execute_comand* |
                  ID command                        #run

execute_command:  ID (
                    ID execute_command |                                    #align, anchored, as, at, in
                    (location | rotation | ID target ID*) execute_command | #facing, positioned, rotated
                    ID ID (                                                 #store
                      location ID ID FLOAT |       #block
                      ID ID |                      #bossbar
                      target ID ID FLOAT |         #entity, storage
                      target ID |                  #score
                    ) execute_command |
                    ID (                                                    #if/unless
                      location ID |                #block
                      location location ID ID |    #blocks
                      ID (                         #data
                        location ID |  #block
                        target ID |    #entity
                        ID ID          #storage
                      ) |
                      target |                     #entity
                      ID |                         #predicate
                      target ID (                  #score
                        COMPARISON target ID |
                        ID RANGE
                      )
                    ) execute_command* |
                    ID COMMAND
                  )

--------------------------------------------------------------------------

tag <targets> (
  add <name> |
  list |
  remove <name> |
  )

COMMAND target ID ID*

-------------------------------------------------------------------------

scoreboard (
  objective (
    add <objective> <criterion> [<displayName>] |
    list |
    modify <objective> (displayname <displayName> | rendertype (hearts|integer)) |
    remove <objective>
    setdisplay <slot> [<objective>])|
  player (
    add <targets> <objective> <score> |
    enable <targets> <objective> |
    get <target> <objective> |
    list [<target>] |
    operation <targets> <targetObjective> <operation> <source> <sourceObjective> |
    remove <targets> <objective> <score> |
    reset <targets> [<objective>] |
    set <targets> <objective> <score>
    )
  )

COMMAND (
  ID (        # objective
    ID ID ID ID |       #add, modify
    ID |                #list
    ID ID |             #remove
    ID ID ID |          #setdisplay
  ) |
  ID (        # player
    ID ID ID INTEGER |      #add
    ID target ID |          #enable, get
    ID target* |            #list
    ID target ID OPERATION target ID | # operation
    ID target ID INTEGER |  #remove
    ID target ID* |         #reset
    ID target ID INTEGER    #set
  )
)

COMMAND (
  ID ID ID* | #objective
  ID ID (
    ID ID INTEGER
    target* |
    target ID (OPERATION target ID | INTEGER) |
    target ID*
  )
)


------------------------------------------------------------------------

team (
  add <team> [<displayName>] |
  empty <team> |
  join <team> [<members>] |
  leave <members> |
  list [<team>] |
  modify <team> <option> <value> |
  remove <team>
  )

COMMAND(
  STRING STRING STRING* |
  STRING STRING |
  STRING STRING target* |
  STRING target |
  STRING STRING* |
  STRING STRING STRING (<value>) |
  STRING STRING
)

COMMAND STRING (
  STRING STRING* |
  STRING target* |
  STRING |
  target |
  STRING STRING (STRING | BOOLEAN)
)*


COMMAND STRING (
  STRING (STRING (STRING | BOOLEAN)*)* |
  STRING target* |
  target |
)*

------------------------------------------------------------------------

effect (
  clear [<targets>] [<effect>] |
  give <targets> <effect> [<seconds>] [<amplifier>] [<hideParticles>]
  )

COMMAND ID target (ID* | ID (number INTEGER BOOLEAN*)*)
